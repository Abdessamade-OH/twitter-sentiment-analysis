<!--<app-sidebar></app-sidebar>-->

<section class="dashboard">
    <div class="container-fluid">
        <div class="row my-3">
            
            <div class="col-12 col-lg-6">
                <h3 class="fs-3 fw-bold">Charts</h3>
                <div class="charts container">
                    <div class="row g-3">
                        <div class="col-12 col-lg-6">
                            <div class="card flex justify-content-center">
                                <p-chart type="pie" [data]="data" [options]="options" />
                            </div>
                        </div>
                        <div class="col-12 col-lg-6">
                            
                            <div class="card flex justify-content-center">
                                <p-chart type="radar" [data]="data3" [options]="options3" />
                            </div>
                        </div>
                    </div>
                    <div class="row mt-2">
                        <div class="col-12">
                            <div class="card">
                                <p-chart type="line" [data]="data2" [options]="options2" />
                            </div>
                            <ul>
                                <li>
                                    {{tweetsFromService | json}}
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-12 col-lg-6">
                <h3 class="fs-3 fw-bold">Twitter Live Feed Tweets</h3>
                <div class="live-feed" style="max-height: 80vh; overflow-y: scroll;">
                    <p-table 
                        [value]="tweetsFromService" 
                        [tableStyle]="{'min-width': '50rem'}">
                            <ng-template pTemplate="header">
                                <tr>
                                    <th>TweetID</th>
                                    <th>Entity</th>
                                    <th>Sentiment</th>
                                    <th>TweetContent</th>
                                </tr>
                            </ng-template>
                            <ng-template pTemplate="body" let-tweet>
                                <tr [ngClass]="{'positive': tweet.sentiment === 'Positive', 'negative': tweet.sentiment === 'Negative'}">
                                    <td>{{tweet.tweetID}}</td>
                                    <td>{{tweet.entity}}</td>
                                    <td>
                                        <span class="fw-bold">{{tweet.sentiment}}</span>
                                    </td>
                                    <td>{{tweet.tweetContent}}</td>
                                </tr>
                            </ng-template>
                    </p-table>
                </div>
            </div>
        </div>
    </div>
</section>